CKEDITOR.plugins.add('esp_image',{lang:['en','ru','uk'],init:function(c){var d='esp_image';CKEDITOR.dialog.add(d,this.path+'dialogs/esp_image.js');c.addCommand(d,new CKEDITOR.dialogCommand(d));c.ui.addButton('Esp_image',{label:c.lang.esp_image.image,command:d,icon:this.path+"images/esp_image.png"});c.on('doubleclick',function(a){var b=a.data.element;if(b.is('img')&&!b.data('cke-realelement')&&!b.isReadOnly())a.data.dialog='esp_image'});if(c.addMenuItems){c.addMenuItems({esp_image:{label:c.lang.esp_image.menu,command:'esp_image',group:'esp_image'}})}if(c.contextMenu){c.contextMenu.addListener(function(a,b){if(!a||!a.is('img')||a.data('cke-realelement')||a.isReadOnly())return null;return{esp_image:CKEDITOR.TRISTATE_OFF}})}}});CKEDITOR.config.esp_image_removeLinkByEmptyURL=true;

